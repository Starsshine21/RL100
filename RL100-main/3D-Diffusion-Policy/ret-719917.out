Job start at 2025-12-23 22:48:51
Job run at:
   Static hostname: localhost.localdomain
Transient hostname: r8a100-a04
         Icon name: computer-server
           Chassis: server
        Machine ID: 244294d52c47456698e3a5f6f1e8f09f
           Boot ID: 8b624b5e22924edd949acdba03b1f85a
  Operating System: Rocky Linux 8.7 (Green Obsidian)
       CPE OS Name: cpe:/o:rocky:rocky:8:GA
            Kernel: Linux 4.18.0-425.10.1.el8_7.x86_64
      Architecture: x86-64
Filesystem                                        Size  Used Avail Use% Mounted on
/dev/mapper/rl-root                               120G   19G  102G  16% /
/dev/sdb1                                         1.1T  508G  566G  48% /tmp
/dev/mapper/rl-var                                768G   20G  749G   3% /var
/dev/sdb2                                         4.2T   30G  4.2T   1% /local
/dev/sda2                                         2.0G  306M  1.7G  15% /boot
/dev/sda1                                         599M  5.8M  594M   1% /boot/efi
ssd.nas00.future.cn:/rocky8_home                   16G   14G  2.2G  87% /home
ssd.nas00.future.cn:/rocky8_workspace             400G     0  400G   0% /workspace
ssd.nas00.future.cn:/rocky8_tools                 5.0T   99G  5.0T   2% /tools
ssd.nas00.future.cn:/centos7_home                  16G  4.1G   12G  26% /centos7/home
ssd.nas00.future.cn:/centos7_workspace            400G     0  400G   0% /centos7/workspace
ssd.nas00.future.cn:/centos7_tools                5.0T  235G  4.8T   5% /centos7/tools
ssd.nas00.future.cn:/eda-tools                    8.0T  5.7T  2.4T  72% /centos7/eda-tools
hdd.nas00.future.cn:/share_personal               500G     0  500G   0% /share/personal
zone05.nas01.future.cn:/NAS_HPC_collab_codemodel   40T   37T  3.8T  91% /share/collab/codemodel
ext-zone00.nas02.future.cn:/nfs_global            379T  378T  644G 100% /nfs_global
ssd.nas00.future.cn:/common_datasets               75T   64T   12T  85% /datasets
192.168.12.10@o2ib:192.168.12.11@o2ib:/lustre     1.9P   12T  1.8P   1% /lustre
beegfs_nodev                                       70T   15T   56T  21% /fast
Currently Loaded Modulefiles: 1) cluster-tools/v1.0 3) cuda-cudnn/12.1-8.9.3 5) git/2.31.1 2) cmake/3.21.7 4) gcc/9.3.0 6) slurm-tools/v1.0
/tools/cluster-software/gcc/gcc-9.3.0/bin/gcc
/nfs_global/S/yangrongzheng/conda_envs/dp3/bin/python
/nfs_global/S/yangrongzheng/conda_envs/dp3/bin/python3
############### /home : /home/S/yangrongzheng
Disk quotas for user yangrongzheng (uid 6215): 
     Filesystem   space   quota   limit   grace   files   quota   limit   grace
          /home  14175M  16384M  20480M            156k       0       0        

############### /workspace
Disk quotas for user yangrongzheng (uid 6215): 
     Filesystem   space   quota   limit   grace   files   quota   limit   grace
     /workspace      0K    400G    500G               1       0       0        

############### /nfs_global
Disk quotas for user yangrongzheng (uid 6215): 
     Filesystem   space   quota   limit   grace   files   quota   limit   grace
    /nfs_global    107G   5120G   7168G            365k   5000k  10000k        

############### /lustre
Disk quotas for usr yangrongzheng (uid 6215):
     Filesystem    used   quota   limit   grace   files   quota   limit   grace
        /lustre      0k      8T     10T       -       0  3000000 36000000       -
uid 6215 is using default block quota setting
uid 6215 is using default file quota setting
name, driver_version, power.limit [W]
NVIDIA A100-PCIE-40GB, 550.54.15, 225.00 W
NVIDIA A100-PCIE-40GB, 550.54.15, 225.00 W
NVIDIA A100-PCIE-40GB, 550.54.15, 225.00 W
NVIDIA A100-PCIE-40GB, 550.54.15, 225.00 W
NVIDIA A100-PCIE-40GB, 550.54.15, 225.00 W
NVIDIA A100-PCIE-40GB, 550.54.15, 225.00 W
NVIDIA A100-PCIE-40GB, 550.54.15, 225.00 W
NVIDIA A100-PCIE-40GB, 550.54.15, 225.00 W
Using GPU(s) 0,1,2,3,4,5,6,7
This job is assigned the following resources by SLURM:
CPU_IDs=0-111 GRES=gpu:8(IDX:0-7)
Main program continues to run. Monitoring information will be exported after three hours.
Have already added /tools/cluster-modulefiles into $MODULEPATH
no change     /home/S/yangrongzheng/miniconda3/condabin/conda
no change     /home/S/yangrongzheng/miniconda3/bin/conda
no change     /home/S/yangrongzheng/miniconda3/bin/conda-env
no change     /home/S/yangrongzheng/miniconda3/bin/activate
no change     /home/S/yangrongzheng/miniconda3/bin/deactivate
no change     /home/S/yangrongzheng/miniconda3/etc/profile.d/conda.sh
no change     /home/S/yangrongzheng/miniconda3/etc/fish/conf.d/conda.fish
no change     /home/S/yangrongzheng/miniconda3/shell/condabin/Conda.psm1
no change     /home/S/yangrongzheng/miniconda3/shell/condabin/conda-hook.ps1
no change     /home/S/yangrongzheng/miniconda3/lib/python3.13/site-packages/xontrib/conda.xsh
no change     /home/S/yangrongzheng/miniconda3/etc/profile.d/conda.csh
no change     /home/S/yangrongzheng/.bashrc
No action taken.
[Info] Zarr path corrected to: /nfs_global/S/yangrongzheng/3D-Diffusion-Policy/3D-Diffusion-Policy/data/metaworld_wrapper_data/dial_turn_demos
Replay Buffer: state, shape (6000, 9), dtype float32, range -0.16~0.87
Replay Buffer: action, shape (6000, 4), dtype float32, range -1.00~1.00
Replay Buffer: point_cloud, shape (6000, 1024, 6), dtype float32, range -0.93~255.00
Replay Buffer: reward, shape (6000,), dtype float32, range 0.01~10.00
Replay Buffer: done, shape (6000,), dtype float32, range 0.00~1.00
Replay Buffer: full_state, shape (6000, 39), dtype float32, range -0.15~1.00
--------------------------
[DP3Encoder] point cloud shape: [1024, 3]
[DP3Encoder] state shape: [9]
[DP3Encoder] imagination point shape: None
[DP3Encoder] use_recon_vib: True
[PointNetEncoderXYZ] use_layernorm: True
[PointNetEncoderXYZ] use_final_norm: none
[PointNetEncoderXYZ] use_vib: True
[PointNetEncoderXYZ] enable point cloud reconstruction
[DP3Encoder] output dim: 320
[DiffusionUnetHybridPointcloudPolicy] use_pc_color: False
[DiffusionUnetHybridPointcloudPolicy] pointnet_type: pointnet
[2025-12-23 22:49:18,204][diffusion_policy_3d.model.diffusion.conditional_unet1d][INFO] - number of parameters: 2.090855e+07
----------------------------------
Class name: RL100
  Number of parameters: 21.5491M
   _dummy_variable: 0.0000M (0.00%)
   obs_encoder: 0.6405M (2.97%)
   model: 20.9085M (97.03%)
   mask_generator: 0.0000M (0.00%)
----------------------------------
[Info] EMA æ¨¡å‹å·²åˆ›å»ºï¼ˆdeepcopyï¼‰
[Info] EMA å·²å¯ç”¨ (power=0.75)
[MetaWorldEnv] use_point_crop: True
[MetaWorldEnv] ä½¿ç”¨ç¨€ç–å¥–åŠ±æ¨¡å¼: success=1.0, fail=0.0
[MetaWorldEnv] use_point_crop: True

======================================================================
RL100 æ”¹è¿›ç‰ˆv3 é…ç½®
======================================================================
ğŸ“Š æ•°æ®é›†: dial-turn
ğŸ¯ ä»»åŠ¡: dial-turn
ğŸ’¾ æ•°æ®è·¯å¾„: /nfs_global/S/yangrongzheng/3D-Diffusion-Policy/3D-Diffusion-Policy/data/metaworld_wrapper_data/dial_turn_demos
ğŸ”§ è®¾å¤‡: cuda:0
ğŸŒ± éšæœºç§å­: 42

âœ¨ æ–°å¢æ”¹è¿›:
  âœ“ æ•°æ®è´¨é‡ç­›é€‰ï¼ˆæˆåŠŸç‡é˜ˆå€¼: 0.3ï¼‰
  âœ“ Early Stoppingï¼ˆè€å¿ƒå€¼: 3è½®ï¼‰
  âœ“ åœ¨çº¿æ•°æ®æ¯”ä¾‹é™åˆ¶ï¼ˆæœ€å¤§: 50%ï¼‰
  âœ“ Phase 3ä»æœ€ä½³checkpointå¼€å§‹
  âœ“ å­¦ä¹ ç‡è¡°å‡ï¼ˆPhase 3: 0.3xï¼‰

âš ï¸  å¥–åŠ±æ¨¡å¼: ç¨€ç–å¥–åŠ±ï¼ˆæˆåŠŸ=1.0, å¤±è´¥=0ï¼‰

æ ¸å¿ƒç‰¹æ€§:
  âœ“ æ‰©æ•£æ¨¡å‹é¢„æµ‹å™ªå£°ï¼ˆepsilonï¼‰
  âœ“ åŒå±‚MDPï¼ˆç¯å¢ƒçº§ + å»å™ªæ­¥çº§ï¼‰
  âœ“ IQLç®—æ³•ï¼ˆexpectile=0.7ï¼‰
  âœ“ AM-Qç­›é€‰ï¼ˆthreshold=0.05ï¼‰
  âœ“ VIBæ­£åˆ™åŒ–ï¼ˆIL: recon=1.0, kl=0.001 | RL: recon=0.1, kl=0.0001ï¼‰
  âœ“ GAEä¼˜åŠ¿ä¼°è®¡ï¼ˆlambda=0.95ï¼‰

è®­ç»ƒæµç¨‹:
  Phase 1: ILé¢„è®­ç»ƒ - 200 epochs
  Phase 2: ç¦»çº¿RL - 10è½®è¿­ä»£ Ã— 50 epochs
  Phase 3: åœ¨çº¿RL - 30 epochs
======================================================================


======================================================================
Phase 1: æ¨¡ä»¿å­¦ä¹ é¢„è®­ç»ƒï¼ˆILï¼‰
======================================================================
[RL100Improved] Switched to IL mode (High VIB weights: recon=1.0, kl=0.001)
